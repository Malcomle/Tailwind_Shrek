<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <title>Shrek</title>
  <meta content="" name="description">
  <link href="css/main.css" rel="stylesheet">

  <script src="https://cdn.tailwindcss.com"></script>

  <script>
      tailwind.config = {
          theme: {
              extend: {
                  colors: {
                      creme: '#e1dfb6',
                      marron: '#5c452d',
                      light_shrek: '#c5ee7d',
                      medium_shrek: '#8cb04e',
                      shrek: '#7a9244'
                  },
                  fontFamily: {
                      shrek: ["shrek", "cursive"],
                  },

              }
          }
      }
  </script>
</head>

<body>

<nav class="bg-creme px-2 sm:px-4 py-2.5 w-full z-20 top-0 left-0 border-b border-gray-200">
  <div class="container flex flex-wrap justify-between items-center mx-auto">
    <a class="flex items-center" href="index.html">
      <img alt="Flowbite Logo" class="mr-3 h-6 sm:h-9" src="img/logo.svg">
      <span class="self-center text-xl font-shrek text-shrek whitespace-nowrap">Shrek Wiki</span>
    </a>
    <div class="flex md:order-2">
      <a href="https://shrek.fandom.com/wiki/Shrek_(character)">
        <button class="text-light_shrek bg-marron hover:font-extrabold focus:ring-4 focus:outline-none focus:ring-shrek font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-3 md:mr-0"
                type="button">
          Wiki Officiel
        </button>
      </a>
      <button aria-controls="navbar-sticky" aria-expanded="false"
              class="inline-flex items-center p-2 text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
              data-collapse-toggle="navbar-sticky" type="button">
        <span class="sr-only">Open main menu</span>
        <svg aria-hidden="true" class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"
             xmlns="http://www.w3.org/2000/svg">
          <path clip-rule="evenodd"
                d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"
                fill-rule="evenodd"></path>
        </svg>
      </button>
    </div>
    <div class="hidden justify-between items-center w-full md:flex md:w-auto md:order-1" id="navbar-sticky">
      <ul class="flex flex-col p-4 mt-4 rounded-lg md:flex-row md:space-x-8 md:mt-0 md:text-sm md:font-medium md:border-0">
        <li>
          <a aria-current="page"
             class="block py-2 pr-4 pl-3 text-marron rounded md:hover:text-medium_shrek md:p-0"
             href="index.html">Home</a>
        </li>
        <li>
          <a class="block py-2 pr-4 pl-3 text-marron rounded md:hover:text-medium_shrek md:p-0"
             href="#">Ajout de personnage</a>
        </li>
        <li>
          <a class="block py-2 pr-4 pl-3 text-marron rounded md:hover:text-medium_shrek md:p-0"
             href="gallery.html">Galerie</a>
        </li>
        <li>
          <a class="block py-2 pr-4 pl-3 text-shrek font-bold rounded hover:text-medium_shrek md:p-0"
             href="table.html">Personnages</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="flex justify-center">
  <div class="p-6 rounded-lg shadow-lg bg-creme w-3/4 mt-10">
    <h1 class="text-xl text-shrek font-shrek">Ajoute ton personnage </h1>
    <table class="w-full text-sm text-left text-gray-500">
      <thead class="text-xs text-light_shrek uppercase bg-marron">
      <tr>
        <th class="py-3 px-6" scope="col">
          Nom
        </th>
        <th class="py-3 px-6" scope="col">
          Age
        </th>
        <th class="py-3 px-6" scope="col">
          Race
        </th>
        <th class="py-3 px-6" scope="col">
          Couleur
        </th>
        <th class="py-3 px-6" scope="col">
          Sexe
        </th>
        <th class="py-3 px-6" scope="col">
          Naissance
        </th>
        <th class="py-3 px-6" scope="col">
          MÃ©chant ?
        </th>
      </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
</div>
</body>

<script type="module">
    import {initializeApp} from "https://www.gstatic.com/firebasejs/9.12.1/firebase-app.js";
    import {
        getFirestore,
        collection,
        getDocs,
        addDoc,
    } from 'https://www.gstatic.com/firebasejs/9.12.1/firebase-firestore.js'

    // Your web app's Firebase configuration
    export const firebaseConfig = {
        apiKey: "AIzaSyBbREiytmy8a1ZCRl61_uili9NTvPUEDOA",
        authDomain: "shrekgallery-cf7c7.firebaseapp.com",
        projectId: "shrekgallery-cf7c7",
        storageBucket: "shrekgallery-cf7c7.appspot.com",
        messagingSenderId: "841518763625",
        appId: "1:841518763625:web:86718b71d78556160d1cf8"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Get a list of cities from your database
    export async function getCards(db) {
        const cards = collection(db, 'cards');
        let resShrek = await getDocs(cards);
        return resShrek.docs.map(doc => doc.data());
    }

    function addDiv(x) {
        console.log(x)
        let doc = document.createElement('tr')
        doc.classList = 'bg-white border-b'
        let allCards = document.querySelector('tbody')

        doc.innerHTML = '' +
            '        <th class="py-4 px-6 font-medium text-shrek whitespace-nowrap" scope="row">\n' +
            '          ' + x["name"] +
            '        </th>\n' +
            '        <td class="py-4 px-6">\n' +
            '          ' + x["old"] +
            '        </td>\n' +
            '        <td class="py-4 px-6">\n' +
            '          ' + x["race"] + ' \n' +
            '        </td>\n' +
            '        <td class="py-4 px-6">\n' +
            '          ' + x["color"] + ' \n' +
            '        </td>\n' +
            '        <td class="py-4 px-6">\n' +
            '          ' + x["sexe"] + ' \n' +
            '        </td>\n' +
            '        <td class="py-4 px-6">\n' +
            '          ' + x["birth"] + ' \n' +
            '        </td>\n' +
            '        <td class="py-4 px-6">\n' +
            '          ' + x["mechant"] + ' \n' +
            '        </td>\n'

        allCards.appendChild(doc)
    }

    let cards = await getCards(db);

    cards.forEach(x => {
        addDiv(x)
    })
</script>
